"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[9358],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return m}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),c=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},u=function(e){var n=c(e.components);return a.createElement(i.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,k=d["".concat(i,".").concat(m)]||d[m]||s[m]||l;return t?a.createElement(k,p(p({ref:n},u),{},{components:t})):a.createElement(k,p({ref:n},u))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,p=new Array(l);p[0]=d;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o.mdxType="string"==typeof e?e:r,p[1]=o;for(var c=2;c<l;c++)p[c]=t[c];return a.createElement.apply(null,p)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},7243:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return i},metadata:function(){return c},toc:function(){return u},default:function(){return d}});var a=t(7462),r=t(3366),l=(t(7294),t(3905)),p=["components"],o={tags:["react","typescript"]},i=void 0,c={unversionedId:"react+typescript",id:"react+typescript",title:"react+typescript",description:"\u7c7b\u578b\u7b80\u8ff0",source:"@site/docs/react+typescript.md",sourceDirName:".",slug:"/react+typescript",permalink:"/docs/react+typescript",editUrl:"https://github.com/HarryPoint/HarryPoint.github.io/blob/main/docs/react+typescript.md",tags:[{label:"react",permalink:"/docs/tags/react"},{label:"typescript",permalink:"/docs/tags/typescript"}],version:"current",frontMatter:{tags:["react","typescript"]},sidebar:"tutorialSidebar",previous:{title:"postcss\u63d2\u4ef6",permalink:"/docs/postcss\u63d2\u4ef6"},next:{title:"v8\u539f\u7406",permalink:"/docs/v8\u539f\u7406"}},u=[{value:"\u7c7b\u578b\u7b80\u8ff0",id:"\u7c7b\u578b\u7b80\u8ff0",children:[],level:2},{value:"hooks \u58f0\u660e",id:"hooks-\u58f0\u660e",children:[{value:"useState",id:"usestate",children:[],level:3},{value:"useEffect",id:"useeffect",children:[],level:3},{value:"useContext",id:"usecontext",children:[],level:3},{value:"useReducer",id:"usereducer",children:[],level:3},{value:"useCallback",id:"usecallback",children:[],level:3},{value:"useMemo",id:"usememo",children:[],level:3},{value:"useRef",id:"useref",children:[],level:3},{value:"useImperativeHandle",id:"useimperativehandle",children:[],level:3},{value:"useLayoutEffect",id:"uselayouteffect",children:[],level:3},{value:"useDebugValue",id:"usedebugvalue",children:[],level:3},{value:"\u81ea\u5b9a\u4e49 hooks",id:"\u81ea\u5b9a\u4e49-hooks",children:[],level:3}],level:2},{value:"\u7ec4\u4ef6\u58f0\u660e",id:"\u7ec4\u4ef6\u58f0\u660e",children:[{value:"\u7c7b\u7ec4\u4ef6",id:"\u7c7b\u7ec4\u4ef6",children:[],level:3},{value:"\u51fd\u6570\u7ec4\u4ef6",id:"\u51fd\u6570\u7ec4\u4ef6",children:[],level:3}],level:2},{value:"React.forwardRef",id:"reactforwardref",children:[],level:2},{value:"React.ForwardRefRenderFunction",id:"reactforwardrefrenderfunction",children:[],level:2},{value:"React.createContext",id:"reactcreatecontext",children:[],level:2},{value:"React.cloneElement",id:"reactcloneelement",children:[],level:2},{value:"React.ComponentType",id:"reactcomponenttype",children:[],level:2},{value:"\u6cdb\u578b\u53c2\u6570\u7684\u7ec4\u4ef6",id:"\u6cdb\u578b\u53c2\u6570\u7684\u7ec4\u4ef6",children:[{value:"\u7c7b\u7ec4\u4ef6\u7684\u5b9a\u4e49",id:"\u7c7b\u7ec4\u4ef6\u7684\u5b9a\u4e49",children:[],level:3},{value:"\u51fd\u6570\u7ec4\u4ef6\u7684\u5b9a\u4e49",id:"\u51fd\u6570\u7ec4\u4ef6\u7684\u5b9a\u4e49",children:[],level:3}],level:2},{value:"\u4e8b\u4ef6\u5904\u7406",id:"\u4e8b\u4ef6\u5904\u7406",children:[],level:2}],s={toc:u};function d(e){var n=e.components,t=(0,r.Z)(e,p);return(0,l.kt)("wrapper",(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u7c7b\u578b\u7b80\u8ff0"},"\u7c7b\u578b\u7b80\u8ff0"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5185\u7f6e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"React.ReactElement"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"td"},"React.createElement"),"\u521b\u5efa\u7684\uff0c\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a",(0,l.kt)("inlineCode",{parentName:"td"},"React"),"\u4e2d\u7684",(0,l.kt)("inlineCode",{parentName:"td"},"JSX"),"\u7684\u5143\u7d20")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"React.ReactNode"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<div>xxx</div>")," \u7684\u5408\u6cd5\u7c7b\u578b")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"React.CSSProperties"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7ec4\u4ef6\u5185\u8054\u7684",(0,l.kt)("inlineCode",{parentName:"td"},"style"),"\u5bf9\u8c61\u7684\u7c7b\u578b")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"React.RefObject"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"React.createRef"),"\u521b\u5efa\u7684\u7c7b\u578b\uff0c\u53ea\u8bfb\u4e0d\u53ef\u6539")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"React.MutableRefObject"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"useRef"),"\u521b\u5efa\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u4fee\u6539")))),(0,l.kt)("h2",{id:"hooks-\u58f0\u660e"},"hooks \u58f0\u660e"),(0,l.kt)("h3",{id:"usestate"},"useState"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"useState"),"\u53ef\u4ee5\u4f7f\u7528\u6cdb\u578b\u4f20\u53c2\u6216\u8005\u81ea\u52a8\u63a8\u65ad"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'const [state, setState] = useState(""); // state\u7684\u7c7b\u578b\u4e3astring\uff0c\u81ea\u52a8\u63a8\u65ad\nconst [state, setState] = useState<string>(); // state\u7684\u7c7b\u578b\u4e3a string | undefined\n// \u7ed9\u521d\u503c\nconst [state, setState] = useState<string | null>(null); // state\u7684\u7c7b\u578b\u4e3a string | null\n')),(0,l.kt)("h3",{id:"useeffect"},"useEffect"),(0,l.kt)("p",null,"\u5f53\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"useEffect")," \u65f6\uff0c\u6ce8\u610f\u4e0d\u8981\u8fd4\u56de\u4efb\u4f55\u4e1c\u897f\uff0c\u9664\u4e86\u51fd\u6570\u6216\u672a\u5b9a\u4e49:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"function DelayedEffect(props: { timerMs: number }) {\n  const { timerMs } = props;\n  useEffect(\n    () =>\n      setTimeout(() => {\n        /* do stuff */\n      }, timerMs),\n    [timerMs]\n  );\n  return null;\n}\n")),(0,l.kt)("h3",{id:"usecontext"},"useContext"),(0,l.kt)("h3",{id:"usereducer"},"useReducer"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"useReducer"),"\u76f8\u5bf9\u6765\u8bf4\u8981\u5199\u7684\u66f4\u591a\u4e00\u70b9\uff0c\u53ef\u4ee5\u81ea\u52a8\u63a8\u65ad\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u624b\u52a8\u5199\u6cdb\u578b\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'// state\u7c7b\u578b\ninterface ReducerState {\n  value: string;\n}\n// action\u7c7b\u578b\ninterface AnyAction {\n  type: string;\n  [key: string]: any;\n}\n// reducer\u51fd\u6570\nconst reducer: React.Reducer<ReducerState, AnyAction> = (state, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n// \u521d\u59cb\u503c\nconst initialState: ReducerState = { value: "" };\n\nconst [state, dispatch] = useReducer(reducer, initialState);\n// state \u7684\u7c7b\u578b\u4e3a ReducerState\n// dispatch \u7684\u7c7b\u578b\u4e3a React.Dispatch<AnyAction>\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Action"),"\u4e5f\u53ef\u4ee5\u662f\u591a\u4e2a\u4e0d\u540c\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"Action"),"\u7684\u8054\u5408\u7c7b\u578b"),(0,l.kt)("h3",{id:"usecallback"},"useCallback"),(0,l.kt)("h3",{id:"usememo"},"useMemo"),(0,l.kt)("h3",{id:"useref"},"useRef"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"useRef"),"\u540c\u6837\u4e5f\u4f1a\u81ea\u52a8\u63a8\u65ad"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'const ref = useRef(""); // ref.current\u7684\u7c7b\u578b\u4e3a string\n// \u6cdb\u578b\ntype Value = { value: string };\nconst ref = useRef < Value > { value: "" };\n// ref\u4e3ahtml\u5143\u7d20\nconst ref = useRef < HTMLDivElement > null;\nreturn <div ref={ref} />;\n')),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\u5982\u679c",(0,l.kt)("inlineCode",{parentName:"p"},"ref"),"\u4e3a\u5143\u7d20\uff0c\u90a3\u4e48\u521d\u59cb\u503c\u5f97\u5199\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"null"),"\u624d\u4e0d\u4f1a\u62a5\u9519"),(0,l.kt)("h3",{id:"useimperativehandle"},"useImperativeHandle"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"useImperativeHandle"),"\u8fd9\u4e2a\u94a9\u5b50\u53ef\u4ee5\u628a\u5185\u90e8\u65b9\u6cd5\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"ref"),"\u66b4\u9732\u51fa\u53bb\uff0c\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"ts"),"\u4e5f\u662f\u8981\u5199\u591a\u4e00\u70b9\uff0c\u7c7b\u578b\u90fd\u9700\u8981\u6807\u6ce8\u6e05\u695a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'// props\ninterface AppProps {\n  value: string;\n}\n// useImperativeHandle\u83b7\u53d6\u5230ref\u7684\u7c7b\u578b\ninterface Handle {\n  get: () => string;\n}\n\nconst App = React.forwardRef<Handle, AppProps>(({ value }, ref) => {\n  // \u5b9a\u4e49\n  useImperativeHandle(ref, () => ({\n    get: () => `handle get value : ${value}`,\n  }));\n  return null;\n});\n// \u4f7f\u7528\nconst handleRef = useRef<Handle>(null);\n// handleRef.current?.get();\nreturn <App value="hello" ref={handleRef} />;\n')),(0,l.kt)("h3",{id:"uselayouteffect"},"useLayoutEffect"),(0,l.kt)("h3",{id:"usedebugvalue"},"useDebugValue"),(0,l.kt)("h3",{id:"\u81ea\u5b9a\u4e49-hooks"},"\u81ea\u5b9a\u4e49 hooks"),(0,l.kt)("p",null,"\u6709\u5982\u4e0b\u94a9\u5b50"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'const useCustomHook = () => {\n  const [state, setState] = useState("");\n  const set = (value: string) => {\n    if (!value) return;\n    setState(value);\n  };\n  return [state, set];\n};\n// \u4f7f\u7528\nconst [state, setState] = useCustomHook();\nsetState("hello"); // This expression is not callabl\n')),(0,l.kt)("p",null,"\u81ea\u5b9a\u94a9\u5b50\u8fd8\u9700\u8981\u5b9a\u4e49\u8fd4\u56de\u503c\u624d\u884c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"- const useCustomHook = () => {\n+ const useCustomHook = (): [string, (value: string) => void] => {\n")),(0,l.kt)("h2",{id:"\u7ec4\u4ef6\u58f0\u660e"},"\u7ec4\u4ef6\u58f0\u660e"),(0,l.kt)("p",null,"\u7ec4\u4ef6\u58f0\u660e\u5206\u4e3a\u7c7b\u7ec4\u4ef6\u548c\u51fd\u6570\u7ec4\u4ef6"),(0,l.kt)("h3",{id:"\u7c7b\u7ec4\u4ef6"},"\u7c7b\u7ec4\u4ef6"),(0,l.kt)("p",null,"\u7c7b\u7ec4\u4ef6\u4f7f\u7528\u7684\u5b9a\u4e49\u4e3b\u8981\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"React.Component<P,S>"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"React.PureComponent<P,S,SS>")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'interface AppProps {\n  value: string;\n}\ninterface AppState {\n  count: number;\n}\nclass App extends React.Component<AppProps, AppState> {\n  static defaultProps = {\n    value: "",\n  };\n  state = {\n    count: 0,\n  };\n}\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"React.Component<P,S>"),"\u8fd9\u91cc\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"P"),"\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"props"),"\u7684\u7c7b\u578b\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"S"),"\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"state"),"\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u5199\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"React.Component<AppProp>"),",\u56e0\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"state"),"\u7684\u7c7b\u578b\u4f1a\u81ea\u5df1\u63a8\u65ad"),(0,l.kt)("p",null,"\u5728\u4e0a\u9762",(0,l.kt)("inlineCode",{parentName:"p"},"PureComponent"),"\u4e2d\u8fd8\u6709\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"SS"),"\uff0c\u8fd9\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"SS"),"\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"getSnapshotBeforeUpdate"),"\u7684\u8fd4\u56de\u503c"),(0,l.kt)("h3",{id:"\u51fd\u6570\u7ec4\u4ef6"},"\u51fd\u6570\u7ec4\u4ef6"),(0,l.kt)("p",null,"\u51fd\u6570\u7ec4\u4ef6\u5b9a\u4e49\u7684\u65b9\u5f0f\u7b80\u5355\u6765\u770b\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"React.FC"),"\uff0c\u4e00\u79cd\u662f\u76f4\u63a5\u7ed9",(0,l.kt)("inlineCode",{parentName:"p"},"props"),"\u5199\u4e0a\u5b9a\u4e49"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'interface AppProps {\n  value?: string;\n}\n\nconst App: React.FC<AppProps> = ({ value = "", children }) => {\n  // ...\n};\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"React.FC"),"\u7684\u610f\u601d\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"FunctionComponent"),"\uff0c\u5982\u679c\u4f7f\u7528\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"React.FC"),"\uff0c\u5b83\u5728\u5b9a\u4e49\u91cc\u5c31\u5df2\u7ecf\u89c4\u5b9a\u597d\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"children"),"\u7684\u7c7b\u578b\u548c\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"children"),"\uff0c\u5982\u679c\u662f\u76f4\u63a5\u7ed9",(0,l.kt)("inlineCode",{parentName:"p"},"props"),"\u5199\u4e0a\u5b9a\u4e49\uff0c\u5c31\u9700\u8981\u81ea\u5df1\u5b9a\u4e49",(0,l.kt)("inlineCode",{parentName:"p"},"children"),"\u7684\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'interface AppProps {\n  value?: string;\n  children?: React.ReactNode; // \u81ea\u5df1\u5b9a\u4e49children\u7684\u7c7b\u578b\n}\n\nfunction App({ value = "", children }: AppProps) {\n  return <>{children}</>;\n}\n')),(0,l.kt)("h2",{id:"reactforwardref"},"React.forwardRef"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"React.forwardRef<T, P = {}>"),"\u53ea\u9700\u8981\u4f20",(0,l.kt)("inlineCode",{parentName:"p"},"props"),"\u7684\u7c7b\u578b\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"ref"),"\u7684\u7c7b\u578b\uff0c\u7b2c\u4e00\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"T"),"\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"ref"),"\u7684\u7c7b\u578b\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"P"),"\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"props"),"\u7684\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'const App = React.forwardRef<HTMLDivElement, AppProps>(({ value }, ref) => {\n  return <div ref={ref} />;\n});\n// \u4f7f\u7528\nconst ref = useRef<HTMLDivElement>(null);\nreturn <App value="hello" ref={ref} />;\n')),(0,l.kt)("h2",{id:"reactforwardrefrenderfunction"},"React.ForwardRefRenderFunction"),(0,l.kt)("p",null,"\u5b9a\u4e49\u4e3a\u8be5\u7c7b\u578b\u7684\u51fd\u6570\u53ef\u4ee5\u653e\u8fdb",(0,l.kt)("inlineCode",{parentName:"p"},"React.forwardRef"),"\u51fd\u6570\u4e2d\u4f5c\u4e3a\u53c2\u6570"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'// \u5b9a\u4e49\nconst forwardRender: React.ForwardRefRenderFunction<\n  HTMLDivElement,\n  AppProps\n> = ({ value }, ref) => {\n  return <div ref={ref} />;\n};\nconst App = React.forwardRef(forwardRender);\n// \u4f7f\u7528\nconst ref = useRef < HTMLDivElement > null;\nreturn <App value="hello" ref={ref} />;\n')),(0,l.kt)("h2",{id:"reactcreatecontext"},"React.createContext"),(0,l.kt)("p",null,"\u6cdb\u578b\u6709\u81ea\u52a8\u63a8\u65ad\u7684\u529f\u80fd\uff0c\u6240\u4ee5",(0,l.kt)("inlineCode",{parentName:"p"},"useContext"),"\u5c31\u4e0d\u9700\u8981\u518d\u5199\u4e0a\u7c7b\u578b\u4e86"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'interface ContextType {\n  getPrefixCls: (value: string) => string;\n}\n\nconst context =\n  React.createContext <\n  ContextType >\n  {\n    getPrefixCls: (value) => `prefix-${value}`,\n  };\n\nconst App = () => {\n  const { getPrefixCls } = useContext(context);\n  getPrefixCls("App"); // prefix-App\n  return null;\n};\n')),(0,l.kt)("h2",{id:"reactcloneelement"},"React.cloneElement"),(0,l.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"React.FC"),"\u5b9a\u4e49\u7684\u7ec4\u4ef6\uff0c\u5b83\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"children"),"\u7c7b\u578b\u9ed8\u8ba4\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"React.ReactNode"),"\uff0c\u9700\u8981\u663e\u5f0f\u8f6c\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"React.ReactElement")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'const App: React.FC = ({ children }) => {\n  return React.cloneElement(children as React.ReactElement, { value: "hello" });\n};\n// \u4e5f\u53ef\u4ee5\u8986\u5199\u5b9a\u4e49\nconst App: React.FC<{ children: React.ReactElement }> = ({ children }) => {\n  return React.cloneElement(children, { value: "hello" });\n};\n')),(0,l.kt)("h2",{id:"reactcomponenttype"},"React.ComponentType"),(0,l.kt)("p",null,"\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"React.ComponentType<P>"),"\u5b9a\u4e49\u7684\u7ec4\u4ef6\u53ef\u4ee5\u5c06\u53d8\u91cf\u540d\u4f20\u5165\u7ec4\u4ef6\uff0c\u5728\u7ec4\u4ef6\u5185\u8c03\u7528\uff0c\u9ad8\u9636\u7ec4\u4ef6\u901a\u5e38\u4f1a\u4f7f\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'interface AppProps {\n  value: string;\n}\nconst App: React.FC<AppProps> = (props) => {\n  return null;\n};\n// React.ComponentType\u5b9a\u4e49\u7ec4\u4ef6\nfunction HOC<T>(Component: React.ComponentType<T>) {\n  return function (props: T) {\n    return <Component {...props} />;\n  };\n}\nconst WrappedComponent = HOC(App);\n// \u8c03\u7528\n<WrappedComponent value="hello" />;\n')),(0,l.kt)("h2",{id:"\u6cdb\u578b\u53c2\u6570\u7684\u7ec4\u4ef6"},"\u6cdb\u578b\u53c2\u6570\u7684\u7ec4\u4ef6"),(0,l.kt)("p",null,"\u6cdb\u578b\u53c2\u6570\u7684\u7ec4\u4ef6\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"javascript"),"2.9 \u7248\u672c\u65b0\u589e\u7684"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"<Select<number>>\n  <Select.Option value={1}>1</Select.Option>\n  <Select.Option value={2}>2</Select.Option>\n</Select>\n")),(0,l.kt)("h3",{id:"\u7c7b\u7ec4\u4ef6\u7684\u5b9a\u4e49"},"\u7c7b\u7ec4\u4ef6\u7684\u5b9a\u4e49"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'// \u5b9a\u4e49\u6cdb\u578b\u53c2\u6570\u7684\u7ec4\u4ef6\nclass GenericComponent<P> extends React.Component<P> {\n  internalProp: P;\n  constructor(props: P) {\n    super(props);\n    this.internalProp = props;\n  }\n  render() {\n    return null;\n  }\n}\n\ntype Props = { a: number; b: string };\n\n<GenericComponent<Props> a={10} b="hi" />; // OK\n<GenericComponent<Props> a={10} b={20} />; // Error\n')),(0,l.kt)("h3",{id:"\u51fd\u6570\u7ec4\u4ef6\u7684\u5b9a\u4e49"},"\u51fd\u6570\u7ec4\u4ef6\u7684\u5b9a\u4e49"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"function GenericComponent<P>(props: P) {\n  const internalProp = useRef(props);\n  return null;\n}\n")),(0,l.kt)("h2",{id:"\u4e8b\u4ef6\u5904\u7406"},"\u4e8b\u4ef6\u5904\u7406"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"const App = () => {\n  // React.MouseEventHandler\n  const onClick: React.MouseEventHandler<HTMLInputElement> = (e) => {\n    console.log(e.currentTarget.value);\n  };\n  // React.ChangeEventHandler\n  const onChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\n    console.log(e.currentTarget.value);\n  };\n  // React.FocusEventHandler\n  const onFocus: React.FocusEventHandler<HTMLInputElement> = (e) => {\n    console.log(e.currentTarget.value);\n  };\n  return <input onClick={onClick} onChange={onChange} onFocus={onFocus} />;\n};\n")),(0,l.kt)("p",null,"\u5982\u679c\u6709\u4e8b\u4ef6\u4e0d\u6e05\u695a\u8be5\u5982\u4f55\u5b9a\u4e49\u7c7b\u578b\uff0c\u53ef\u4ee5\u70b9\u7ec4\u4ef6\u4e0a\u7684\u4e8b\u4ef6\u540d\u53bb\u770b\u770b\u5b9a\u4e49"),(0,l.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\u53ea\u6709",(0,l.kt)("inlineCode",{parentName:"p"},"e.currentTarget"),"\u624d\u4f1a\u6709\u5bf9\u5e94\u7684\u5143\u7d20\u7c7b\u578b\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"e.target"),"\u662f\u6ca1\u6709\u7684\uff0c\u5b83\u7684\u7c7b\u578b\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"EventTarget")))}d.isMDXComponent=!0}}]);