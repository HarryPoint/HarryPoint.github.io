"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7421],{3905:function(n,t,e){e.d(t,{Zo:function(){return p},kt:function(){return y}});var r=e(7294);function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function o(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function s(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(Object(e),!0).forEach((function(t){a(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function c(n,t){if(null==n)return{};var e,r,a=function(n,t){if(null==n)return{};var e,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(a[e]=n[e]);return a}(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(a[e]=n[e])}return a}var i=r.createContext({}),d=function(n){var t=r.useContext(i),e=t;return n&&(e="function"==typeof n?n(t):s(s({},t),n)),e},p=function(n){var t=d(n.components);return r.createElement(i.Provider,{value:t},n.children)},l={inlineCode:"code",wrapper:function(n){var t=n.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(n,t){var e=n.components,a=n.mdxType,o=n.originalType,i=n.parentName,p=c(n,["components","mdxType","originalType","parentName"]),u=d(e),y=a,f=u["".concat(i,".").concat(y)]||u[y]||l[y]||o;return e?r.createElement(f,s(s({ref:t},p),{},{components:e})):r.createElement(f,s({ref:t},p))}));function y(n,t){var e=arguments,a=t&&t.mdxType;if("string"==typeof n||a){var o=e.length,s=new Array(o);s[0]=u;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=n,c.mdxType="string"==typeof n?n:a,s[1]=c;for(var d=2;d<o;d++)s[d]=e[d];return r.createElement.apply(null,s)}return r.createElement.apply(null,e)}u.displayName="MDXCreateElement"},216:function(n,t,e){e.r(t),e.d(t,{frontMatter:function(){return c},contentTitle:function(){return i},metadata:function(){return d},toc:function(){return p},default:function(){return u}});var r=e(7462),a=e(3366),o=(e(7294),e(3905)),s=["components"],c={},i=void 0,d={unversionedId:"VUE \u65e5\u5386\u7ec4\u4ef6\u7684\u7b80\u5355\u5b9e\u73b0",id:"VUE \u65e5\u5386\u7ec4\u4ef6\u7684\u7b80\u5355\u5b9e\u73b0",title:"VUE \u65e5\u5386\u7ec4\u4ef6\u7684\u7b80\u5355\u5b9e\u73b0",description:"",source:"@site/docs/VUE \u65e5\u5386\u7ec4\u4ef6\u7684\u7b80\u5355\u5b9e\u73b0.md",sourceDirName:".",slug:"/VUE \u65e5\u5386\u7ec4\u4ef6\u7684\u7b80\u5355\u5b9e\u73b0",permalink:"/docs/VUE \u65e5\u5386\u7ec4\u4ef6\u7684\u7b80\u5355\u5b9e\u73b0",editUrl:"https://github.com/HarryPoint/HarryPoint.github.io/blob/main/docs/VUE \u65e5\u5386\u7ec4\u4ef6\u7684\u7b80\u5355\u5b9e\u73b0.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"TypeScript\u6559\u7a0b",permalink:"/docs/TypeScript\u6559\u7a0b"},next:{title:"WebAssembly",permalink:"/docs/WebAssembly"}},p=[],l={toc:p};function u(n){var t=n.components,e=(0,a.Z)(n,s);return(0,o.kt)("wrapper",(0,r.Z)({},l,e,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"<script setup lang=\"ts\">\nimport moment from 'moment';\nimport { computed } from 'vue';\n\nconst props = defineProps({\n  // \u4e00\u5468\u7684\u5f00\u59cb\u65f6\u95f4\uff0c0-6\uff0c0\u8868\u793a\u5468\u65e5\uff0c1\u8868\u793a\u5468\u4e00\uff0c\u4ee5\u6b64\u7c7b\u63a8\n  startDay: {\n    type: Number,\n    default: 1,\n  },\n  // \u65e5\u5386\u5f53\u524d\u9009\u4e2d\u7684\u65e5\u671f\n  modelValue: {\n    type: Date,\n    default: () => moment().month(4).toDate(),\n  },\n  // \u5982\u679c\u6708\u4efd\u5f00\u59cb\u65f6\u95f4/\u7ed3\u675f\u65f6\u95f4\u548c\u65e5\u5386\u8303\u56f4\u91cd\u5408\uff0c\u662f\u5426\u591a\u6dfb\u52a0\u4e00\u5468\u7684\u6570\u636e\uff08\u5982\u679c\u9700\u8981\u65e5\u5386\u7ffb\u9875\u65f6\uff0c\u5fc5\u987b\uff09\n  fixed: {\n    type: Boolean,\n    default: true,\n  },\n});\n\ndefineEmits<{\n  (e: 'update:modelValue', value: Date): void;\n}>();\n\nconst dayOrderMap = new Map([\n  [1, '\u4e00'],\n  [2, '\u4e8c'],\n  [3, '\u4e09'],\n  [4, '\u56db'],\n  [5, '\u4e94'],\n  [6, '\u516d'],\n  [0, '\u65e5'],\n]);\n\nconst dayMap = computed(() => {\n  const dayMap: string[] = [];\n  for (let i = props.startDay; i < props.startDay + 7; i++) {\n    dayMap.push(dayOrderMap.get(i % 7) as string);\n  }\n  return dayMap;\n});\n\nconst getDays = (date: Date) => {\n  const days = [];\n  const start = moment(date).startOf('month');\n  start.subtract((7 - props.startDay + start.day()) % 7 || (props.fixed ? 7 : 0), 'day');\n  const end = moment(date).endOf('month');\n  end.add((6 - end.day() + props.startDay) % 7 || (props.fixed ? 7 : 0), 'day');\n  const diff = end.diff(start, 'days');\n  days.push(start.toDate());\n  for (let i = 0; i < diff; i++) {\n    days.push(start.add(1, 'day').toDate());\n  }\n  return days;\n};\n\nconst trDays = computed(() => {\n  const days = getDays(props.modelValue);\n  const trDays: Date[][] = [];\n  days.forEach((date, index) => {\n    if (index % 7 === 0) {\n      trDays.push([]);\n    }\n    trDays[trDays.length - 1].push(date);\n  });\n  return trDays;\n});\n<\/script>\n\n<template>\n  <table>\n    <thead>\n      <tr>\n        <th v-for=\"day in dayMap\" :key=\"day\">{{ day }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"(tr, index) in trDays\" :key=\"index\">\n        <td\n          v-for=\"(date, idx) in tr\"\n          :key=\"idx\"\n          :class=\"{\n            current: date.toLocaleDateString() === modelValue.toLocaleDateString(),\n          }\"\n          @click=\"$emit('update:modelValue', date)\"\n        >\n          <slot name=\"calendarCell\" :date=\"date\">\n            {{ date.toLocaleDateString() }}\n          </slot>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<style lang=\"scss\" scoped>\ntable {\n  td {\n    border: solid 1px #ccc;\n    &.current {\n      background-color: #ccc;\n    }\n  }\n}\n</style>\n\n")))}u.isMDXComponent=!0}}]);