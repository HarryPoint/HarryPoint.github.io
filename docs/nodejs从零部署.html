<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hi Harry RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hi Harry Atom Feed"><title data-react-helmet="true">nodejsä»é›¶éƒ¨ç½² | Hi Harry</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://harrypoint.github.io/docs/nodejsä»é›¶éƒ¨ç½²"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="nodejsä»é›¶éƒ¨ç½² | Hi Harry"><meta data-react-helmet="true" name="description" content="åŸºç¡€å‘½ä»¤ï¼ˆåŸºäº ubuntuï¼‰"><meta data-react-helmet="true" property="og:description" content="åŸºç¡€å‘½ä»¤ï¼ˆåŸºäº ubuntuï¼‰"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://harrypoint.github.io/docs/nodejsä»é›¶éƒ¨ç½²"><link data-react-helmet="true" rel="alternate" href="https://harrypoint.github.io/docs/nodejsä»é›¶éƒ¨ç½²" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://harrypoint.github.io/docs/nodejsä»é›¶éƒ¨ç½²" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.56ac51d8.css">
<link rel="preload" href="/assets/js/runtime~main.4e745f3e.js" as="script">
<link rel="preload" href="/assets/js/main.a842c4ef.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Hi Harry</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/notes">éšç¬”</a><a class="navbar__item navbar__link" href="/blog">åšå®¢</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/HarryPoint" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_I7kZ"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_Zg7X searchBarLoadingRing_J5Ez"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_CDc6"><kbd class="searchHint_2RRg">ctrl</kbd><kbd class="searchHint_2RRg">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/jsåŠ¨ç”»åº“">jsåŠ¨ç”»åº“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/notes">èµ„æºåˆ—è¡¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Arrayæ–¹æ³•é€Ÿè®°è¡¨">Arrayæ–¹æ³•é€Ÿè®°è¡¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Objectæ–¹æ³•é€Ÿè®°è¡¨">Objectæ–¹æ³•é€Ÿè®°è¡¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Reactç¬”è®°">Reactç¬”è®°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Reflecté€Ÿè®°è¡¨">Reflecté€Ÿè®°è¡¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/TypeScriptæ•™ç¨‹">TypeScriptæ•™ç¨‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/WebAssembly">WebAssembly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cssåŠ¨ç”»åº“">cssåŠ¨ç”»åº“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dockerå‘½ä»¤å›¾è§£">dockerå‘½ä»¤å›¾è§£</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dockeré•œåƒå’Œå®¹å™¨çš„ä¿å­˜">dockeré•œåƒå’Œå®¹å™¨çš„ä¿å­˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gitlab-runneré…ç½®">gitlab-runneré…ç½®</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gitå¸¸ç”¨å‘½ä»¤">gitå¸¸ç”¨å‘½ä»¤</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/gitå¸¸ç”¨å‘½ä»¤2">gitå¸¸ç”¨å‘½ä»¤2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/jenkinsæ’ä»¶ä¸éƒ¨ç½²">jenkinsæ’ä»¶ä¸éƒ¨ç½²</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/jenkinséƒ¨ç½²é…ç½®">jenkinséƒ¨ç½²é…ç½®</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/jsé€’å½’ä¼˜åŒ–">jsé€’å½’ä¼˜åŒ–</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linux dockerç¯å¢ƒå®‰è£…">linux dockerç¯å¢ƒå®‰è£…</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linux expectå‘½ä»¤è¡Œäº¤äº’è‡ªåŠ¨æ‰§è¡Œ">linux expectå‘½ä»¤è¡Œäº¤äº’è‡ªåŠ¨æ‰§è¡Œ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linuxå‘½ä»¤è¡Œå¿«æ·é”®">linuxå‘½ä»¤è¡Œå¿«æ·é”®</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linuxå®‰è£…å‰ç«¯ç¯å¢ƒ">linuxå®‰è£…å‰ç«¯ç¯å¢ƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linuxå¸¸ç”¨å‘½ä»¤">linuxå¸¸ç”¨å‘½ä»¤</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/nodejsä»é›¶éƒ¨ç½²">nodejsä»é›¶éƒ¨ç½²</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/npmåŒ…è®°å½•">npmåŒ…è®°å½•</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/offerå‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/postcssæ’ä»¶">postcssæ’ä»¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/react+typescript">react+typescript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v8åŸç†">v8åŸç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webpackåŸç†">webpackåŸç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/weinreè°ƒè¯•å·¥å…·">weinreè°ƒè¯•å·¥å…·</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/yarnå‘½ä»¤">yarnå‘½ä»¤</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ä½ çœŸçš„äº†è§£æ­£åˆ™å—ï¼Ÿ">ä½ çœŸçš„äº†è§£æ­£åˆ™å—ï¼Ÿ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/åˆå§‹åŒ–serverç¯å¢ƒ">node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/åˆ¶ä½œdockeré•œåƒ">åˆ¶ä½œdockeré•œåƒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/å‰ç«¯å›¾å½¢å­¦">å‰ç«¯å›¾å½¢å­¦</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/å›¾ç‰‡ä¸»è‰²æå–">å›¾ç‰‡ä¸»è‰²æå–</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/å¥‡æ€ªçš„javascrpt">è€å¸æœºå†™js</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/å­¦ä¹ èµ„æºæ±‡æ€»">å­¦ä¹ èµ„æºæ±‡æ€»</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/å¸¸ç”¨å°æ¸¸æˆæ¡†æ¶">å¸¸è§æ¸¸æˆæ¡†æ¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/æ•°æ®ç»“æ„ä¸ç®—æ³•">æ•°æ®ç»“æ„ä¸ç®—æ³•</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ç›¸ç­‰åˆ¤æ–­">å‰ç½®çŸ¥è¯†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ç»¼åˆç¬”è®°">ç»¼åˆç¬”è®°</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>nodejsä»é›¶éƒ¨ç½²</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="åŸºç¡€å‘½ä»¤åŸºäº-ubuntu">åŸºç¡€å‘½ä»¤ï¼ˆåŸºäº ubuntuï¼‰<a class="hash-link" href="#åŸºç¡€å‘½ä»¤åŸºäº-ubuntu" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">fdisk</span><span class="token plain"> -l </span><span class="token comment" style="color:#999988;font-style:italic"># æŸ¥çœ‹æŒ‚è½½çš„ç¡¬ç›˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">df</span><span class="token plain"> -h </span><span class="token comment" style="color:#999988;font-style:italic"># æŸ¥çœ‹ç¡¬ç›˜ä½¿ç”¨æƒ…å†µ</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="linux-è´¦æˆ·æ“ä½œ">linux è´¦æˆ·æ“ä½œ<a class="hash-link" href="#linux-è´¦æˆ·æ“ä½œ" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1æ·»åŠ ç”¨æˆ·å">1.æ·»åŠ ç”¨æˆ·å<a class="hash-link" href="#1æ·»åŠ ç”¨æˆ·å" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">adduser </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">username</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2ç»™è´¦æˆ·-sudo-æƒé™">2.ç»™è´¦æˆ· sudo æƒé™<a class="hash-link" href="#2ç»™è´¦æˆ·-sudo-æƒé™" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">gpasswd -a </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">username</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="3æƒé™é…ç½®ä¿®æ”¹">3.æƒé™é…ç½®ä¿®æ”¹<a class="hash-link" href="#3æƒé™é…ç½®ä¿®æ”¹" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> visudo</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>1.åœ¨ <code># User privilege specification</code> ä¸‹æ·»åŠ ä¸€è¡Œ <code>{username} ALL=(ALL:ALL) ALL</code><br> 2.<code>^+X</code>é€€å‡ºç¼–è¾‘ï¼Œ<code>Shift+Y</code>ä¿å­˜ï¼ŒÂ·<code>enter</code>å›è½¦ å›åˆ°å‘½ä»¤è¡Œ<br> 3.<code>service ssh restart</code> é‡å¯æœåŠ¡</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ssh-å…å¯†ç™»å½•"><code>ssh</code> å…å¯†ç™»å½•<a class="hash-link" href="#ssh-å…å¯†ç™»å½•" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="åœ¨æœ¬åœ°æ“ä½œ">åœ¨æœ¬åœ°æ“ä½œ<a class="hash-link" href="#åœ¨æœ¬åœ°æ“ä½œ" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="1ç”Ÿæˆå¯†é’¥">1.ç”Ÿæˆå¯†é’¥<a class="hash-link" href="#1ç”Ÿæˆå¯†é’¥" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t res -b </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"> -C </span><span class="token string" style="color:#e3116c">&quot;xxx@xxx.com&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="2-å¼€å¯ssh-agentæœåŠ¡">2. å¼€å¯<code>ssh-agent</code>æœåŠ¡<a class="hash-link" href="#2-å¼€å¯ssh-agentæœåŠ¡" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">eval</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable" style="color:#36acaa">ssh-agent -s</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="3-æ·»åŠ å¯†é’¥">3. æ·»åŠ å¯†é’¥<a class="hash-link" href="#3-æ·»åŠ å¯†é’¥" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-add ~/.ssh/id_rsa</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æœåŠ¡å™¨ç«¯æ“ä½œ">æœåŠ¡å™¨ç«¯æ“ä½œ<a class="hash-link" href="#æœåŠ¡å™¨ç«¯æ“ä½œ" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="1-å’Œæœ¬åœ°æ“ä½œä¸€è‡´ç”Ÿæˆå¯†é’¥å¼€å¯ssh-agentæœåŠ¡">1. å’Œæœ¬åœ°æ“ä½œä¸€è‡´ï¼Œç”Ÿæˆå¯†é’¥ï¼Œå¼€å¯<code>ssh-agent</code>æœåŠ¡<a class="hash-link" href="#1-å’Œæœ¬åœ°æ“ä½œä¸€è‡´ç”Ÿæˆå¯†é’¥å¼€å¯ssh-agentæœåŠ¡" title="Direct link to heading">â€‹</a></h4><h4 class="anchor anchorWithStickyNavbar_y2LR" id="2-ç”Ÿæˆauthorized_keysæ–‡ä»¶">2. ç”Ÿæˆ<code>authorized_keys</code>æ–‡ä»¶<a class="hash-link" href="#2-ç”Ÿæˆauthorized_keysæ–‡ä»¶" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vi</span><span class="token plain"> ~/.ssh/authorized_keys</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="3-å°†æœ¬åœ°-id_rsapub-é‡Œé¢çš„å†…å®¹-å¤åˆ¶åˆ°æœåŠ¡ç«¯çš„-authorized_keysæ–‡ä»¶ä¸­">3. å°†æœ¬åœ° <code>id_rsa.pub</code> é‡Œé¢çš„å†…å®¹ å¤åˆ¶åˆ°æœåŠ¡ç«¯çš„ <code>authorized_keys</code>æ–‡ä»¶ä¸­<a class="hash-link" href="#3-å°†æœ¬åœ°-id_rsapub-é‡Œé¢çš„å†…å®¹-å¤åˆ¶åˆ°æœåŠ¡ç«¯çš„-authorized_keysæ–‡ä»¶ä¸­" title="Direct link to heading">â€‹</a></h4><h4 class="anchor anchorWithStickyNavbar_y2LR" id="4-æ”¹å˜authorized_keysæ–‡ä»¶æƒé™">4. æ”¹å˜<code>authorized_keys</code>æ–‡ä»¶æƒé™<a class="hash-link" href="#4-æ”¹å˜authorized_keysæ–‡ä»¶æƒé™" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">600</span><span class="token plain"> ~/.ssh/authorized_keys</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="5-é‡å¯-ssh-æœåŠ¡">5. é‡å¯ ssh æœåŠ¡<a class="hash-link" href="#5-é‡å¯-ssh-æœåŠ¡" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ssh</span><span class="token plain"> restart</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä¿®æ”¹-ssh-é»˜è®¤ç«¯å£">ä¿®æ”¹ ssh é»˜è®¤ç«¯å£<a class="hash-link" href="#ä¿®æ”¹-ssh-é»˜è®¤ç«¯å£" title="Direct link to heading">â€‹</a></h2><blockquote><p>tips: ä¿®æ”¹å‰ å…ˆæ–°å¼€å‘½ä»¤è¡Œçª—å£ï¼Œç™»å½•åˆ°æœåŠ¡å™¨ï¼ˆé˜²æ­¢ä¿®æ”¹å‡ºé—®é¢˜ï¼Œå¯¼è‡´ç™»å½•ä¸ä¸ŠæœåŠ¡å™¨ï¼‰<br></p></blockquote><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">vi</span><span class="token plain"> /etc/ssh/sshd_config</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol><li>ä¿®æ”¹ <code>Port</code> å‚æ•°ï¼Œä¿®æ”¹ä¸ºæ–°çš„ç«¯å£</li></ol><blockquote><p>æ³¨æ„ï¼š<code>1~1024</code>ç«¯å£ä¸ºç³»ç»Ÿå¤‡ç”¨ï¼Œä¸”éœ€è¦ root æƒé™æ‰èƒ½å¯åŠ¨ï¼Œæ‰€ä»¥é€‰æ‹© <code>1025~65536</code>ä¹‹é—´çš„ç«¯å£</p></blockquote><ol start="2"><li><code>UseDNS</code>ç¡®ä¿ä¸º<code>no</code>ï¼Œæ–‡ä»¶æœ€åæ·»åŠ ä¸€è¡Œ<code>AllowUsers {username}</code></li><li>ä¿å­˜é€€å‡º</li><li>é‡å¯ ssh æœåŠ¡<code>sudo service ssh restart</code></li><li>é‡æ–°ç™»å½•æœåŠ¡å™¨<code>ssh -p {port} {username}@{server ip}</code></li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å…³é—­-root-ç”¨æˆ·-ssh-ç™»å½•">å…³é—­ root ç”¨æˆ· ssh ç™»å½•<a class="hash-link" href="#å…³é—­-root-ç”¨æˆ·-ssh-ç™»å½•" title="Direct link to heading">â€‹</a></h2><ol><li>æ‰“å¼€ ssh é…ç½®æ–‡ä»¶<code>sudo vi /etc/ssh/sshd_config</code></li><li>ä¿®æ”¹<code>PermitRootLogin</code>ä¸º<code>no</code></li><li>é€€å‡ºç¼–è¾‘å¹¶ä¿å­˜</li><li>é‡å¯ ssh æœåŠ¡<code>sudo service ssh restart</code></li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="å¼€å¯-iptables">å¼€å¯ iptables<a class="hash-link" href="#å¼€å¯-iptables" title="Direct link to heading">â€‹</a></h2><ol><li>æ¸…ç©ºé…ç½®<code>sudo iptables -F</code></li><li>ç¼–è¾‘é…ç½®æ–‡ä»¶<code>sudo vi /etc/iptables.up.rules</code></li></ol><div class="codeBlockContainer_J+bg language-txt theme-code-block"><div class="codeBlockContent_csEI txt"><pre tabindex="0" class="prism-code language-txt codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">*filter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å…è®¸è¿æ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å…è®¸å‡ºå£æµé‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A OUTPUT -j ACCEPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å…è®¸443ç«¯å£è®¿é—®ï¼ˆhttpsï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -p tcp --dport 443 -j ACCEPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å…è®¸80ç«¯å£è®¿é—®ï¼ˆhttpï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -p tcp --dport 80 -j ACCEPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å…è®¸39999 sshç™»å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -p tcp -m state --state NEW --dport 39999 -j ACCEPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å…è®¸pingæœåŠ¡å™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å…è®¸mongoDB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -s 127.0.0.1 -p tcp --destination-port 27017 -m state --state NEW,ESTABLISHED -j ACCEPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A OUTPUT -d 127.0.0.1 -p tcp --source-port 27017 -m state --state ESTABLISHED -j ACCEPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># è®°å½•è¢«æ‹’ç»ç™»å½•çš„ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -m limit --limit 5/min -j LOG --log-prefix &quot;iptables denied:&quot; --log-level 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ‹¦æˆªæ•æ„Ÿè¯·æ±‚ï¼ˆ60ç§’å†…å‘å‡º150ä¸ªè¯·æ±‚ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -p tcp --dport 80 -i eth0 -m state --state NEW -m recent --set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -p tcp --dport 80 -i eth0 -m state --state NEW -m recent --update --seconds 60 --hitcount 150 -j DROP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ‹’ç»å…¶ä»–è¯·æ±‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -j REJECT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A FORWARD -j REJECT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COMMIT</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="3"><li>å¯ç”¨é…ç½®æ–‡ä»¶<code>sudo iptables-restore &lt; /etc/iptables.up.rules</code></li><li>æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€<code>sudo ufw status</code>,å¦‚æœæ˜¾ç¤º <code>inactive</code>åˆ™ä¸ºæœªæ¿€æ´»</li><li>æ¿€æ´»é˜²ç«å¢™<code>sudo ufw enable</code></li><li>å¼€å¯é‡å¯è‡ªåŠ¨æ¿€æ´»åŠŸèƒ½<code>sudo vi /etc/network/if-up.d/iptables</code>, å†™å…¥å†…å®¹</li></ol><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">iptables-restore /etc/iptables.up.rules</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="7"><li>å†™å…¥æ‰§è¡Œæƒé™<code>sudo chmod +x /etc/network/if-up.d/iptables</code></li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ç”Ÿäº§ç¯å¢ƒæ­å»º">ç”Ÿäº§ç¯å¢ƒæ­å»º<a class="hash-link" href="#ç”Ÿäº§ç¯å¢ƒæ­å»º" title="Direct link to heading">â€‹</a></h2><p>1.åŸºç¡€åŒ…å®‰è£…</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> openssl build-essential libssl-dev </span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>2.å®‰è£… nvm 3.å®‰è£… nodejs</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">nvm </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> v6.9.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvm use v6.9.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvm </span><span class="token builtin class-name">alias</span><span class="token plain"> default v6.9.5 </span><span class="token comment" style="color:#999988;font-style:italic"># è®¾ä¸ºé»˜è®¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node -v</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>4.è®¾ç½®ç³»ç»Ÿæ–‡ä»¶ç›‘æ§æ•°é‡<code>echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p</code></p><p>5.é…ç½® nginx</p><blockquote><p>/etc/nginx/conf.d/xxx.conf</p></blockquote><div class="codeBlockContainer_J+bg language-txt theme-code-block"><div class="codeBlockContent_csEI txt"><pre tabindex="0" class="prism-code language-txt codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">upstream demo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server 127.0.0.1:8081;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listen 80;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server_name xxx.xxx.xx(ipåœ°å€);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_set_header X-Real-IP $remote_addr;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_set_header X-Forward-For $proxy_add_x_forwarded_for;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_set_header Host $http_host;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_set_header X-Nginx-Proxy true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_pass http://demo;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        proxy_redirect off;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # é™æ€æ–‡ä»¶é…ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location ~* ^.+\.(jpg|jpeg|gif|png|ico|css|js|pdf|txt) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        root /www/demo/current/public;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>tips: éšè— nginx ç‰ˆæœ¬ä¿¡æ¯<code>sudo /etc/nginx/nginx.conf</code>å°† <code># server_tokens off;</code>çš„æ³¨é‡Šå–æ¶ˆæ‰</p></blockquote><h2 class="anchor anchorWithStickyNavbar_y2LR" id="mongodb-ä½¿ç”¨">mongoDB ä½¿ç”¨<a class="hash-link" href="#mongodb-ä½¿ç”¨" title="Direct link to heading">â€‹</a></h2><ol><li>å¼€å¯æœåŠ¡ <code>sudo service mongod start</code></li><li>æŸ¥çœ‹æ—¥å¿— <code>cat /var/log/mongodb/mongod.log</code></li><li>ä¿®æ”¹ iptables é…ç½®</li></ol><div class="codeBlockContainer_J+bg language-txt theme-code-block"><div class="codeBlockContent_csEI txt"><pre tabindex="0" class="prism-code language-txt codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"># å…è®¸mongoDB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A INPUT -s 127.0.0.1 -p tcp --destination-port 27017 -m state --state NEW,ESTABLISHED -j ACCEPT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-A OUTPUT -d 127.0.0.1 -p tcp --source-port 27017 -m state --state ESTABLISHED -j ACCEPT</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="4"><li>å¯ç”¨é…ç½®æ–‡ä»¶<code>sudo iptables-restore &lt; /etc/iptables.up.rules</code></li><li>è¿æ¥ mongoDB å®ä¾‹<code>mongo</code></li><li>mongoDB æœåŠ¡å‘½ä»¤ï¼š
(1).å¼€å¯æœåŠ¡<code>sudo service mongod start</code>
(2).åœæ­¢æœåŠ¡<code>sudo service mongod stop</code>
(3).é‡å¯æœåŠ¡<code>sudo service mongod restart</code></li><li>æ›´æ”¹ mongoDB ç«¯å£<code>sudo vi /etc/mongod.conf</code>ä¿®æ”¹<code>port</code>å‚æ•°ï¼Œé‡å¯æœåŠ¡ã€‚ä¿®æ”¹ iptables é…ç½®ï¼Œé‡æ–°è½½å…¥é…ç½®ã€‚è¿æ¥ mongoDB <code>mongo --port {ç«¯å£}</code></li><li>å¤‡ä»½æœ¬åœ° mongoDB æ•°æ®<code>mongodump -h 127.0.0.1:27017 -d {æ•°æ®åº“åç§°} -o {æ–‡ä»¶å¤¹åç§°}</code></li><li>å‹ç¼©å¤‡ä»½æ–‡ä»¶<code>tar zcvf {filename}.tar.gz {file-roder-name}</code></li><li>scp ä¸Šä¼ </li><li>æœåŠ¡å™¨ç«¯è§£å‹ç¼©<code>tar xvf {filename}.tar.gz</code></li><li>å¯¼å…¥æ•°æ®<code>mongorestore --host 127.0.0.1:27017 -d {æ•°æ®åº“å} {æ•°æ®è·¯å¾„}</code></li><li>æœ¬åœ°å¯¼å‡ºå•è¡¨æ•°æ®<code>mongoexport -d {æ•°æ®åº“å} -c {è¡¨åç§°} -o {å­˜æ”¾è·¯å¾„ï¼š ./xx.json}</code></li><li>å¯¼å…¥å•è¡¨æ•°æ®<code>mongoimport --host 127.0.0.1:27017 -d {æ•°æ®åº“å} -c {è¡¨åç§°} {æ•°æ®è·¯å¾„}</code></li><li>åˆ é™¤æ•°æ®åº“<code>mongo --host 127.0.0.1:27017 {æ•°æ®åº“å} --eval &quot;db.dropDatabase()&quot;</code></li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="mongodb-æƒé™è®¾ç½®">mongoDB æƒé™è®¾ç½®<a class="hash-link" href="#mongodb-æƒé™è®¾ç½®" title="Direct link to heading">â€‹</a></h2><ol><li>è´¦æˆ·è®¾ç½®</li></ol><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mongo </span><span class="token comment" style="color:#999988;font-style:italic"># è¿›å…¥mongoDBå®ä¾‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use admin </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ‡æ¢åˆ°`admin`æ•°æ®åº“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db.createUser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">user: </span><span class="token string" style="color:#e3116c">&#x27;demo&#x27;</span><span class="token plain">, pwd: </span><span class="token string" style="color:#e3116c">&#x27;xxx1234&#x27;</span><span class="token plain">, roles: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">role: </span><span class="token string" style="color:#e3116c">&#x27;userAdminAnyDatabase&#x27;</span><span class="token plain">, db: </span><span class="token string" style="color:#e3116c">&#x27;admin&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db.auth</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;demo&#x27;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&#x27;xxx1234&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># ç™»å½•æˆæƒï¼ˆè¿”å›1 åˆ™æˆæƒæˆåŠŸï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">æ•°æ®åº“åç§°</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ‡æ¢æ•°æ®åº“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db.createUser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">user: </span><span class="token string" style="color:#e3116c">&#x27;username1&#x27;</span><span class="token plain">, pwd: </span><span class="token string" style="color:#e3116c">&#x27;xxx222&#x27;</span><span class="token plain">, roles: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">role: </span><span class="token string" style="color:#e3116c">&#x27;readWrite&#x27;</span><span class="token plain">, db: </span><span class="token string" style="color:#e3116c">&#x27;æ•°æ®åº“åç§°&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ›å»ºè¯»å†™æƒé™è´¦æˆ·</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db.createUser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">user: </span><span class="token string" style="color:#e3116c">&#x27;username2&#x27;</span><span class="token plain">, pwd: </span><span class="token string" style="color:#e3116c">&#x27;xxx222&#x27;</span><span class="token plain">, roles: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">role: </span><span class="token string" style="color:#e3116c">&#x27;read&#x27;</span><span class="token plain">, db: </span><span class="token string" style="color:#e3116c">&#x27;æ•°æ®åº“åç§°&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ›å»ºè¯»æƒé™ç”¨æˆ·ï¼ˆç”¨äºæ•°æ®å¤‡ä»½ï¼‰</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li>å¼€å¯è®¤è¯æ¨¡å¼</li></ol><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">vi</span><span class="token plain"> /etc/mongod.conf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¼€å¯ <code>security</code>:</p><div class="codeBlockContainer_J+bg language-text theme-code-block"><div class="codeBlockContent_csEI text"><pre tabindex="0" class="prism-code language-text codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">security:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  authorization: &#x27;enabled&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é‡å¯æœåŠ¡</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> mongod restart</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿›å…¥æ•°æ®åº“</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">mongo </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:27017/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">æ•°æ®åº“åç§°</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> -u </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">ç”¨æˆ·å</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> -p </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">å¯†ç </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show tables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db.user.find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="mongodb-æ•°æ®å¤‡ä»½">mongoDB æ•°æ®å¤‡ä»½<a class="hash-link" href="#mongodb-æ•°æ®å¤‡ä»½" title="Direct link to heading">â€‹</a></h2><ol><li>æ–°å»ºå¤‡ä»½è„šæœ¬</li></ol><div class="codeBlockContainer_J+bg language-sh theme-code-block"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">backUpFolder = /home/backUp/db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">date_now = `date +%Y_%m_%d_%H%M`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">backFileName = app_$date_now</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd $backUpFolder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p $backFileName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mongodump -h 127.0.0.1:27017 -d {æ•°æ®åº“åç§°} -u {è´¦æˆ·åç§°} -p {å¯†ç } -o $backFileName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar zcvf $backFileName.tar.gz $backFileName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -rf $backFileName</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>2.åˆ©ç”¨<code>crontab</code>å¼€å¯è‡ªåŠ¨å¤‡ä»½</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">crontab</span><span class="token plain"> -e</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ç¼–è¾‘å†…å®¹</p><div class="codeBlockContainer_J+bg language-txt theme-code-block"><div class="codeBlockContent_csEI txt"><pre tabindex="0" class="prism-code language-txt codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">13 00 * * * sh {è„šæœ¬è·¯å¾„}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ssl-è¯ä¹¦">ssl è¯ä¹¦<a class="hash-link" href="#ssl-è¯ä¹¦" title="Direct link to heading">â€‹</a></h2><ol><li><p>å…è´¹è¯ä¹¦</p><blockquote><p><a href="https://www.upyun.com/products/ssl" target="_blank" rel="noopener noreferrer">åˆæ‹äº‘</a><br>
<a href="https://www.qiniu.com/" target="_blank" rel="noopener noreferrer">ä¸ƒç‰›äº‘</a><br>
<a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer">è…¾è®¯äº‘</a></p></blockquote></li><li><p>nginx é‡å®šå‘é…ç½®</p></li></ol><div class="codeBlockContainer_J+bg language-txt theme-code-block"><div class="codeBlockContent_csEI txt"><pre tabindex="0" class="prism-code language-txt codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">server {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listen 80;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server_name xxxx.com;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # rewrite ^(.*) https://$host$1 permanent;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 301 https://xxxx.com$request_uri;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p><a href="https://cloud.tencent.com/document/product/400/47360" target="_blank" rel="noopener noreferrer">å®‰è£…æ•™ç¨‹</a></p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/HarryPoint/HarryPoint.github.io/blob/main/docs/nodejsä»é›¶éƒ¨ç½².md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/linuxå¸¸ç”¨å‘½ä»¤"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">linuxå¸¸ç”¨å‘½ä»¤</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/npmåŒ…è®°å½•"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">npmåŒ…è®°å½•</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#åŸºç¡€å‘½ä»¤åŸºäº-ubuntu" class="table-of-contents__link toc-highlight">åŸºç¡€å‘½ä»¤ï¼ˆåŸºäº ubuntuï¼‰</a></li><li><a href="#linux-è´¦æˆ·æ“ä½œ" class="table-of-contents__link toc-highlight">linux è´¦æˆ·æ“ä½œ</a><ul><li><a href="#1æ·»åŠ ç”¨æˆ·å" class="table-of-contents__link toc-highlight">1.æ·»åŠ ç”¨æˆ·å</a></li><li><a href="#2ç»™è´¦æˆ·-sudo-æƒé™" class="table-of-contents__link toc-highlight">2.ç»™è´¦æˆ· sudo æƒé™</a></li><li><a href="#3æƒé™é…ç½®ä¿®æ”¹" class="table-of-contents__link toc-highlight">3.æƒé™é…ç½®ä¿®æ”¹</a></li></ul></li><li><a href="#ssh-å…å¯†ç™»å½•" class="table-of-contents__link toc-highlight"><code>ssh</code> å…å¯†ç™»å½•</a><ul><li><a href="#åœ¨æœ¬åœ°æ“ä½œ" class="table-of-contents__link toc-highlight">åœ¨æœ¬åœ°æ“ä½œ</a></li><li><a href="#æœåŠ¡å™¨ç«¯æ“ä½œ" class="table-of-contents__link toc-highlight">æœåŠ¡å™¨ç«¯æ“ä½œ</a></li></ul></li><li><a href="#ä¿®æ”¹-ssh-é»˜è®¤ç«¯å£" class="table-of-contents__link toc-highlight">ä¿®æ”¹ ssh é»˜è®¤ç«¯å£</a></li><li><a href="#å…³é—­-root-ç”¨æˆ·-ssh-ç™»å½•" class="table-of-contents__link toc-highlight">å…³é—­ root ç”¨æˆ· ssh ç™»å½•</a></li><li><a href="#å¼€å¯-iptables" class="table-of-contents__link toc-highlight">å¼€å¯ iptables</a></li><li><a href="#ç”Ÿäº§ç¯å¢ƒæ­å»º" class="table-of-contents__link toc-highlight">ç”Ÿäº§ç¯å¢ƒæ­å»º</a></li><li><a href="#mongodb-ä½¿ç”¨" class="table-of-contents__link toc-highlight">mongoDB ä½¿ç”¨</a></li><li><a href="#mongodb-æƒé™è®¾ç½®" class="table-of-contents__link toc-highlight">mongoDB æƒé™è®¾ç½®</a></li><li><a href="#mongodb-æ•°æ®å¤‡ä»½" class="table-of-contents__link toc-highlight">mongoDB æ•°æ®å¤‡ä»½</a></li><li><a href="#ssl-è¯ä¹¦" class="table-of-contents__link toc-highlight">ssl è¯ä¹¦</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">æ–‡æ¡£</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/notes">éšç¬”</a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/HarryPoint" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 , Inc. Built by Harry.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4e745f3e.js"></script>
<script src="/assets/js/main.a842c4ef.js"></script>
</body>
</html>